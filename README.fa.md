<div dir="rtl">

# ๐ DNS-switch &nbsp;ยท&nbsp; [English](README.md)

**ุฏโุงูโุงุณ ุณูุฆฺ (dns-switch)** ฺฉ ุงุณฺฉุฑูพุช ูููฺฉุณ (Bash) ุณุฑุน ู ููุดููุฏ ุงุณุช ฺฉู ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ุชุง ุชุญุฑูโูุง ู ุงุฎุชูุงูุงุช ุงูุชุฑูุช ุฑุง ุฑู ุณุฑูุฑูุง ุฎูุฏ ุฏูุฑ ุจุฒูุฏ. ุงู ุงุจุฒุงุฑ ุจู ุณุงุฏฺฏ ุจู ุญุงูุช **ุขุฒุงุฏ (ุงูุชุฑูุช ุฌูุงู ุจุง DNS ุฑูุฒูฺฏุงุฑ ุดุฏู)** ู ุญุงูุช **ูู (ุงูุชุฑูุช ุฏุงุฎู)** ุฌุงุจูโุฌุง ูโุดูุฏ. 

ููุช ุงูุชุฑูุช ุฏฺุงุฑ ุงุฎุชูุงู ูโุดูุฏ ุง ุณุงุชโูุง ุจุง ุฑูุด ุฌุนู ุฏโุงูโุงุณ (DNS Spoofing) ูุณุฏูุฏ ูโุดููุฏุ ุงู ุงุณฺฉุฑูพุช ูุฌุงุชโุฏููุฏู ุณุฑูุฑ ุดูุง ุฎูุงูุฏ ุจูุฏ!

---

## ๐ง ฺุฑุง ุจู ุงู ุงุณฺฉุฑูพุช ูุงุฒ ุฏุงุฑูุ

ุฏุฑ ุจุณุงุฑ ุงุฒ ุดุจฺฉูโูุง ูุญุฏูุฏ ุงูุชุฑูุช (ุจู ุฎุตูุต ุฑู ุณุฑูุฑูุง ุงุฑุงู)ุ ุฏุฑุฎูุงุณุชโูุง DNS ฺฉู ุฏุณุชฺฏุงู ุดูุง ุจุฑุง ูพุฏุง ฺฉุฑุฏู ุขุฏุฑุณ ุณุงุชโูุง (ูุซูุงู `google.com`) ูโูุฑุณุชุฏุ ุชูุณุท ุงุฑุงุฆูโุฏููุฏฺฏุงู ุงูุชุฑูุช ุฎูุงูุฏู ุดุฏู ุง ุฏุณุชฺฉุงุฑ ูโุดููุฏ. 
ุจู ุงู ฺฉุงุฑ **ุฌุนู ุง ูุณูููโุณุงุฒ ุฏโุงูโุงุณ (DNS Spoofing)** ูโฺฏููุฏ. ุนู ุดูุง ุฏุฑุฎูุงุณุช ูุฑูุฏ ุจู ฺฉ ุณุงุช ุฑุง ูโุฏูุฏุ ุงูุง ุดุจฺฉู ุจู ุฌุง ุขุฏุฑุณ ูุงูุนุ ฺฉ ุขุฏุฑุณ ุงุดุชุจุงู (ุง ุขุฏุฑุณ ูพููุฏูุง) ุฑุง ุจู ุดูุง ุจุฑูโฺฏุฑุฏุงูุฏ.

ุงู ุงุณฺฉุฑูพุช ุฏู ุฑุงูฺฉุงุฑ ุงุตู ุจุฑุง ุงู ูุดฺฉู ุฏุงุฑุฏ:
ฑ. ุงุณุชูุงุฏู ุงุฒ **DoH** ุจุฑุง ุฑูุฒูฺฏุงุฑ ุฏุฑุฎูุงุณุชโูุง ุชุง ฺฉุณ ูุชูุงูุฏ ุขูโูุง ุฑุง ุจุฎูุงูุฏ ุง ุชุบุฑ ุฏูุฏ.
ฒ. ุฌุงุจูโุฌุง ุณุฑุน ุจู **DNS ูุง ุฏุงุฎู (ูู)** ุฏุฑ ุฒูุงูโูุง ฺฉู ุงูุชุฑูุช ุจูโุงูููู ุจู ุทูุฑ ฺฉุงูู ูุทุน ูโุดูุฏ ุชุง ุญุฏุงูู ุณุฑูุฑ ุดูุง ุฏุฑ ุดุจฺฉู ุฏุงุฎู ุฏุฑ ุฏุณุชุฑุณ ุจูุงูุฏ.

---

## ๐ก๏ธ ุฏโุงูโุงุณ ุจุฑ ุจุณุชุฑ ุงฺโุชโุชโูพโุงุณ (DoH) ฺุณุชุ

ุจู ุฒุจุงู ุณุงุฏู:
- **DNS ูุนููู:** ูุซู ูุฑุณุชุงุฏู ฺฉ ูุงูู ุฏุฑ ูพุงฺฉุช ุดุดูโุง ุงุณุช. ูพุณุชฺ ู ูุฑ ฺฉุณ ุฏุฑ ูุณุฑ ูโุชูุงูุฏ ุขุฏุฑุณ ฺฏุฑูุฏู ู ูุญุชูุง ูุงูู ุฑุง ุจุจูุฏ ู ุฏุฑ ุตูุฑุช ุฏูุฎูุงู ุขู ุฑุง ุนูุถ ฺฉูุฏ!
- **DNS over HTTPS (DoH):** ูุซู ฺฏุฐุงุดุชู ูุงูู ุฏุฑ ฺฉ ฺฏุงูุตูุฏูู ุฑูุฒุฏุงุฑ ุงุณุช ฺฉู ููุท ุดูุง ู ููุตุฏ ฺฉูุฏ ุขู ุฑุง ุฏุงุฑุฏ. ุฏุฑุฎูุงุณุช ุดูุง ุงุฒ ุทุฑู ูพุฑูุชฺฉู ุงูู HTTPS ุงุฑุณุงู ูโุดูุฏ. 

**ูุฒุงุง ุงุณุชูุงุฏู ุงุฒ DoH ุฏุฑ ุงู ุงุณฺฉุฑูพุช:**
- ๐ ุฏุฑุฎูุงุณุชโูุง ุดูุง ฺฉุงููุงู **ุฑูุฒูฺฏุงุฑ** ุดุฏู ู ุจุง ุชุฑุงูฺฉ ูุจ ูุนููู ูุฑู ูุฏุงุฑูุฏ.
- ๐ต๏ธ ุดุฑฺฉุช ุงุฑุงุฆูโุฏููุฏู ุงูุชุฑูุช (ISP) **ููโุชูุงูุฏ ุฑุตุฏ ฺฉูุฏ** ฺฉู ุดูุง ุจู ฺู ุฏุงูููโูุง ูุชุตู ูโุดูุฏ.
- ๐ซ ููุชุฑูฺฏ ู ุชุญุฑูโูุง ฺฉู ุฑู ุณุณุชู DNS ุงุนูุงู ูโุดููุฏ ุจโุงุซุฑ ูโุดููุฏ.
- ๐ก๏ธ ุงุฒ ุณุณุชู ุดูุง ุฏุฑ ุจุฑุงุจุฑ ุญููุงุช **ูุฑุฏ ูุงู (Man-in-the-Middle)** ูุญุงูุธุช ูโฺฉูุฏ.

---

## ๐ ูฺฺฏโูุง ฺฉูุฏ

- ๐ **ุณูุฆฺ ุณุฑุน:** ุฌุงุจูโุฌุง ุขู ุจู ุงูุชุฑูุช ุขุฒุงุฏ ู ุงูุชุฑูุช ูู ุชููุง ุจุง ูุดุฑุฏู ฺฉ ฺฉูุฏ.
- ๐ค **ููุดููุฏ ู ุฎูุฏฺฉุงุฑ:** ุฎูุฏุด ุงุชุตุงู ุงูุชุฑูุช ุฑุง ุชุณุช ูโฺฉูุฏ ู ุจูุชุฑู ุญุงูุช ุฑุง ุจุฑุง ุณุฑูุฑ ุดูุง ุงูุชุฎุงุจ ูโฺฉูุฏ.
- ๐ฆ **ูุตุจ ุจโุฏุฑุฏุณุฑ `dnscrypt-proxy`:** ุฏุฑ ุตูุฑุช ฺฉู ุงุจุฒุงุฑ ุฑูุฒูฺฏุงุฑ ูุตุจ ูุจุงุดุฏุ ุฎูุฏุด ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุขู ุฑุง ุฏุงูููุฏุ ูุตุจ ู ุชูุธู ูโฺฉูุฏ (ุงุฒ ุทุฑู apt ุง ุณูุฑุณ ูุณุชูู GitHub).
- โ๏ธ **ุชูุธู ุฎูุฏฺฉุงุฑ ุณุณุชู:** ุชูุงู ุชูุธูุงุช ูพฺุฏู `systemd-resolved` ุฑุง ุฎูุฏุด ุจุฏูู ุฏุฎุงูุช ุดูุง ุงูุฌุงู ู ูุฏุฑุช ูโฺฉูุฏ.
- ๐งน **ุฑุณุช ุงูู:** ุงูฺฉุงู ูพุงฺฉโุณุงุฒ ุณุฑุน ฺฉุด (Cache) ุณุณุชู ุจุฑุง ุฑูุน ุฎุทุงูุง ูุงฺฏูุงู ุงูุชุฑูุช ู ุจุงุฒูุดุงู ุณุฑูุณโูุง.

---

## ๐๏ธ ูพุดโูุงุฒูุง

ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุงู ุงุจุฒุงุฑ ุจู ููุงุฑุฏ ุฒุฑ ูุงุฒ ุฏุงุฑุฏ:
- ฺฉ ุณุฑูุฑ ูููฺฉุณ (ุชุฑุฌุญุงู **Ubuntu** ุง **Debian**)
- ูุนุงู ุจูุฏู `systemd` ู ุณุฑูุณ `systemd-resolved` (ุฏุฑ ุงฺฉุซุฑ ูููฺฉุณโูุง ุงูุฑูุฒ ุจู ุตูุฑุช ูพุดโูุฑุถ ูุนุงู ุงุณุช)
- ุฏุณุชุฑุณ ุจู ฺฉุงุฑุจุฑ **Root** (ุง ฺฉุงุฑุจุฑ ุจุง ุฏุณุชุฑุณ `sudo`)
- ูุตุจ ุจูุฏู ุงุจุฒุงุฑูุง ูพุงูโุง ูุซู `curl`, `dig`, `bash`

---

## ๐ฅ ูุตุจ ู ุงุฌุฑุง

ููุท ฺฉุงูุณุช ุฏุณุชูุฑุงุช ุฒุฑ ุฑุง ุฏุฑ ุชุฑููุงู ุณุฑูุฑ ุฎูุฏ ฺฉูพ ฺฉูุฏ:

```bash
wget https://raw.githubusercontent.com/alighaffari3000/dns-switch/main/dns-switch.sh
chmod +x dns-switch.sh
sudo ./dns-switch.sh
```

---

## ๐ฎ ุฑุงูููุง ุงุณุชูุงุฏู ุงุฒ ููููุง

ูพุณ ุงุฒ ุงุฌุฑุง ุงุณฺฉุฑูพุช (ุจุง ุฏุณุชุฑุณ root)ุ ฺฉ ููู ุจุง ฺฏุฒููโูุง ุฒุฑ ูโุจูุฏ:

| ุดูุงุฑู | ูุงู ฺฏุฒูู | ุชูุถุญุงุช ู ฺฉุงุฑุจุฑุฏ |
|-------|-----------|------------------|
| `1` | **ุญุงูุช ุขุฒุงุฏ (FREE)** | ุชูุงู ุฏุฑุฎูุงุณุชโูุง ุงูุชุฑูุช ุณุฑูุฑ ุดูุง ุฑุง ุฑูุฒูฺฏุงุฑ ูโฺฉูุฏ. ุจุฑุง ุฒูุงูโูุง ฺฉู ูุงุฒ ุจู ุฏุณุชุฑุณ ุจุฏูู ูุญุฏูุฏุช ุจู ุณุฑูุณโูุง ุฎุงุฑุฌ (ฺฏุชโูุงุจุ ุฏุงฺฉุฑุ ฺฏูฺฏู ู...) ุฏุงุฑุฏ. |
| `2` | **ุญุงูุช ูู (NATIONAL)** | ุงุณฺฉุฑูพุช ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ูุณุช ุงุฒ DNSูุง ุฏุงุฎู ุฑุง ุชุณุช ูโฺฉูุฏ ู ุจู ุณุฑุนโุชุฑู ุขูโูุง ูุชุตู ูโุดูุฏ. ุจุฑุง ุฒูุงูโูุง ูุทุน ุดุฏุฏ ุง ูพุงุฏุงุฑ ุงุชุตุงูโูุง ุฏุงุฎู. |
| `3` | **ุญุงูุช ุฎูุฏฺฉุงุฑ (AUTO)** | ุงุณฺฉุฑูพุช ุฎูุฏุด ูุถุนุช ุงูุชุฑูุช ุฑุง ูโุณูุฌุฏุ ุงฺฏุฑ ูุงุฏุฑ ุจู ุงุชุตุงู ุฌูุงู ุจูุฏ ุจู ุญุงูุช 1 (ุขุฒุงุฏ) ูโุฑูุฏุ ุฏุฑ ุบุฑ ุงูโุตูุฑุช ุจู ุญุงูุช 2 (ูู) ุชุบุฑ ูโฺฉูุฏ. |
| `4` | **ุฑุณุช ุงูู (Safe reset)** | ุณุฑูุณโูุง DNS ุฑุง ุจุงุฒูุดุงู ฺฉุฑุฏู ู ฺฉุด ุฑุง ฺฉุงููุงู ุฎุงู ูโฺฉูุฏ. ุงฺฏุฑ ุจุนุฏ ุงุฒ ูุฏุช ุณุงุชโูุง ุจุงุฒ ูุดุฏูุฏุ ุงุฒ ุงู ุฏฺฉูู ุงุณุชูุงุฏู ฺฉูุฏ. |
| `5` | **ุงุฌุฑุง ุชุณุช (Run tests)** | ูุถุนุช ุณูุงูุชู ุงูุชุฑูุช ุฌูุงู ู ุนููฺฉุฑุฏ ุฏโุงูโุงุณโูุง ุฑุง ฺฉุงูู ุชุณุช ูโฺฉูุฏ ู ุจู ุดูุง ฺฏุฒุงุฑุด ูุถุนุช ูโุฏูุฏ. |
| `0` | **ุฎุฑูุฌ** | ูุญุท ุงุฌุฑุง ุงุณฺฉุฑูพุช ุฑุง ูโุจูุฏุฏ. |

---

## โ๏ธ ุฏุฑ ูพุณโุฒููู ฺู ุงุชูุงู ูโุงูุชุฏุ (ุจุฑุง ุญุฑููโุงโูุง)

- **ุฏุฑ ุญุงูุช ุขุฒุงุฏ (DoH):**
  ุงุณฺฉุฑูพุช ูุฑูโุงูุฒุงุฑ `dnscrypt-proxy` ุฑุง ุชูุธู ูโฺฉูุฏ ุชุง ุงุฒ ุณุฑูุฑูุง ูุฏุฑุชููุฏ (ูุซู Cloudflareุ Google ู Quad9) ุงุณุชูุงุฏู ฺฉูุฏ. ููฺูู ุณูฺฉุชโ ุงฺฉุชูุดู ูพุดโูุฑุถ ุงูุจููุชู (ฺฉู ูพูุฑุช ุฑุง ุงุดุบุงู ูโฺฉูุฏ) ุฑุง ุบุฑูุนุงู ฺฉุฑุฏู ู ุณุฑูุณ ุฏโุงูโุงุณ ูููฺฉุณ (`systemd-resolved`) ุฑุง ูุฌุจูุฑ ูโฺฉูุฏ ุชุง ุงุฒ ูพูุฑุช `127.0.0.1:5053` ุชุบุฐู ฺฉูุฏ.
  
- **ุฏุฑ ุญุงูุช ูู:**
  ุงุณฺฉุฑูพุช `dnscrypt-proxy` ุฑุง ุจู ุตูุฑุช ูููุช ุฎุงููุด ูโฺฉูุฏ. ุณูพุณ ุงุฒ ูุณุช ุทููุงู ุฏโุงูโุงุณโูุง ุงุฑุงู ุจู ุชูุงู ุขูโูุง Ping ูโูุฑุณุชุฏ ู ุฏู ุณูุฑู ุฑุง ฺฉู ุฒูุฏุชุฑ ุฌูุงุจ ุฏููุฏุ ูุณุชูู ุฏุฑ ูุงูโูุง ุดุจฺฉู (systemd-resolved / resolv.conf) ูุฑุงุฑ ูโุฏูุฏ.

---

## ๐ ฺฉุงููฺฏ ูพุดโูุฑุถ dnscrypt-proxy

ุงฺฏุฑ ฺฉูุฌฺฉุงู ูุณุชุฏุ ุฏุฑ ุญุงูุช ูุตุจ ุฎูุฏฺฉุงุฑุ ุงู ุชูุธูุงุช ุจุฑุง ููุงุช ูพุงุฏุงุฑ ุฑู ูุงูู `dnscrypt-proxy.toml` ุงุนูุงู ูโุดููุฏ:

```toml
listen_addresses    = ['127.0.0.1:5053']
server_names        = ['cloudflare', 'google', 'quad9-doh']
fallback_resolvers  = ['8.8.8.8:53', '1.1.1.1:53']
ignore_system_dns   = true
```
!

</div>
