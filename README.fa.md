<div dir="rtl">

# dns-switch &nbsp;ยท&nbsp; [English](README.md)

ุงุณฺฉุฑูพุช Bash ุจุฑุง ุณูุฆฺ ุจู ุญุงูุช **ูุช ุขุฒุงุฏ (DoH)** ู **ูุช ูู** ุฏุฑ ุณุฑูุฑูุง ูููฺฉุณ โ ุจุง ูุตุจ ู ฺฉุงููฺฏ ุฎูุฏฺฉุงุฑ `dnscrypt-proxy`.

---

## ฺุฑุง DoH?

ููุช ฺฉ ุขุฏุฑุณ ูุซู `google.com` ุฑุง ุจุงุฒ ูโฺฉูุฏุ ุฏุณุชฺฏุงู ุดูุง ฺฉ ุฏุฑุฎูุงุณุช DNS ูโูุฑุณุชุฏ ุชุง IP ุขู ุฑุง ูพุฏุง ฺฉูุฏ. ุจูโุตูุฑุช ูพุดโูุฑุถุ ุงู ุฏุฑุฎูุงุณุช ุจู ุดฺฉู **ูุชู ุฎุงู ู ุฑูุฒูฺฏุงุฑโูุดุฏู** ุงุฑุณุงู ูโุดูุฏ โ ุนู ISPุ ูุฏุฑ ุดุจฺฉูุ ุง ูุฑ ฺฉุณ ฺฉู ุชุฑุงูฺฉ ุฑุง ุฑุตุฏ ูโฺฉูุฏ ูโุชูุงูุฏ ุจุจูุฏ ุดูุง ุจู ฺฉุฏุงู ุณุงุชโูุง ุณุฑ ูโุฒูุฏุ ุญุช ุงฺฏุฑ ุฎูุฏ ุตูุญู HTTPS ุจุงุดุฏ.

**DNS over HTTPS (DoH)** ุงู ูุดฺฉู ุฑุง ุจุง ุฑูุฒูฺฏุงุฑ ุฏุฑุฎูุงุณุชโูุง DNS ุฏุฑูู ุชุฑุงูฺฉ HTTPS ุญู ูโฺฉูุฏ. ูุชุฌู:

- ๐ ุฏุฑุฎูุงุณุชโูุง DNS ุดูุง **ุฑูุฒูฺฏุงุฑ ุดุฏู** ู ุงุฒ ุชุฑุงูฺฉ ูุนููู ูุจ ุบุฑูุงุจู ุชุดุฎุต ูุณุชูุฏ
- ๐ต๏ธ ISP **ููโุชูุงูุฏ** ุจุจูุฏ ุจู ฺฉุฏุงู ุฏุงูููโูุง ูุตู ูโุดูุฏ
- ๐ซ ููุชุฑูฺฏ ู ุณุงูุณูุฑ ูุจุชู ุจุฑ DNS ุจุณุงุฑ ุณุฎุชโุชุฑ ุงุนูุงู ูโุดูุฏ
- ๐ก๏ธ ูุญุงูุธุช ุฏุฑ ุจุฑุงุจุฑ **DNS spoofing** ู ุญููุงุช ูุฑุฏ ูุงู

ุงู ููุถูุน ุจูโูฺู ุจุฑุง ุณุฑูุฑูุง ูุณุชูุฑ ุฏุฑ ูุญุทโูุง ุดุจฺฉูโุง ูุญุฏูุฏ ุงููุช ุฏุงุฑุฏุ ุฌุง ฺฉู ุฏุฑุฎูุงุณุชโูุง DNS ูุนููู ุจูโุทูุฑ ูุนููู ุดููุฏ ุง ุฏุณุชฺฉุงุฑ ูโุดููุฏ.

---

## ุงูฺฉุงูุงุช

- ๐ ุณูุฆฺ ุจู DNS ุฑูุฒูฺฏุงุฑโุดุฏู (DoH) ู DNS ูู
- ๐ฆ ูุตุจ ุฎูุฏฺฉุงุฑ `dnscrypt-proxy` ุฏุฑ ุตูุฑุช ูุจูุฏ (ุงุฒ ุทุฑู `apt` ุง ุจุงูุฑ GitHub)
- โ๏ธ ฺฉุงููฺฏ ุฎูุฏฺฉุงุฑ `dnscrypt-proxy` ู `systemd-resolved`
- ๐งช ุชุดุฎุต ุฎูุฏฺฉุงุฑ ุจูุชุฑู ุญุงูุช ุจุฑ ุงุณุงุณ ุฏุณุชุฑุณ ุจู ุงูุชุฑูุช
- ๐ ุชุณุช ุงุชุตุงู ุจูโุงูููู ุจุง ูุงูโุจฺฉ ุจู ุญุงูุช ูู
- ๐งน ุฑุณุช ุงูู ุจุฑุง ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ุณุฑูุณโูุง DNS ู ูพุงฺฉ ฺฉุฑุฏู ฺฉุด

---

## ูพุดโูุงุฒูุง

- ูููฺฉุณ (ุชุฑุฌุญุงู Ubuntu ุง Debian)
- `systemd` ู `systemd-resolved`
- ุงุจุฒุงุฑูุง `curl`ุ `dig`ุ `bash`
- ุฏุณุชุฑุณ root

---

## ูุตุจ

```bash
wget https://raw.githubusercontent.com/alighaffari3000/dns-switch/main/dns-switch.sh
chmod +x dns-switch.sh
sudo ./dns-switch.sh
```

---

## ูุญูู ุงุณุชูุงุฏู

ุงุณฺฉุฑูพุช ุฑุง ุจุง ุฏุณุชุฑุณ root ุงุฌุฑุง ฺฉูุฏ:

```bash
sudo ./dns-switch.sh
```

### ฺฏุฒููโูุง ููู

| ฺฏุฒูู | ุชูุถุญ |
|-------|-------|
| `1` | ุญุงูุช **ุขุฒุงุฏ** โ DNS over HTTPS ุงุฒ ุทุฑู dnscrypt-proxy |
| `2` | ุญุงูุช **ูู** โ ุงูุชุฎุงุจ ุฎูุฏฺฉุงุฑ ุจูุชุฑู DNS ูู |
| `3` | **ุงูุชุฎุงุจ ุฎูุฏฺฉุงุฑ** โ ุชุณุช ุงุชุตุงู ู ุงูุชุฎุงุจ ุจูุชุฑู ุญุงูุช |
| `4` | **ุฑุณุช ุงูู** โ ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ุณุฑูุณโูุง ู ูพุงฺฉโุณุงุฒ ฺฉุด |
| `5` | **ุงุฌุฑุง ุชุณุช** โ ุจุฑุฑุณ DNS ู ุงุชุตุงู HTTPS |
| `0` | ุฎุฑูุฌ |

---

## ูุญูู ุนููฺฉุฑุฏ

### ุญุงูุช ุขุฒุงุฏ (DoH)
ฑ. ุจุฑุฑุณ ูุตุจ ุจูุฏู `dnscrypt-proxy` โ ุฏุฑ ุตูุฑุช ูุจูุฏุ ูุตุจ ุฎูุฏฺฉุงุฑ ุงูุฌุงู ูโุดูุฏ
ฒ. ููุดุชู ฺฉุงููฺฏ ุจุง ุณุฑูุฑูุง `cloudflare`ุ `google` ู `quad9-doh`
ณ. ุบุฑูุนุงู ฺฉุฑุฏู socket activation ุณุณุชู (ุฑูุน ุชุฏุงุฎู ูพูุฑุช ุฏุฑ ูุณุฎู apt)
ด. ฺฉุงููฺฏ `systemd-resolved` ุจุฑุง ุงุฑุณุงู ุฏุฑุฎูุงุณุชโูุง ุจู `127.0.0.1:5053`

### ุญุงูุช ูู
ฑ. ูุชููู ฺฉุฑุฏู `dnscrypt-proxy`
ฒ. ุชุณุช ุชูุงู DNS ุณุฑูุฑูุง ูุณุช ู ุงูุชุฎุงุจ ฒ ุณุฑูุฑ ุงูู ฺฉู ูพุงุณุฎ ูโุฏููุฏ
ณ. ฺฉุงููฺฏ `systemd-resolved` ุจุฑุง ุงุณุชูุงุฏู ูุณุชูู ุงุฒ ุขูโูุง

### ุญุงูุช ุฎูุฏฺฉุงุฑ
ฑ. ูุตุจ ู ุฑุงูโุงูุฏุงุฒ `dnscrypt-proxy`
ฒ. ุงุฌุฑุง ณ ุจุงุฑ ุชุณุช ุงุชุตุงู
ณ. ูุงูุฏู ุฏุฑ ุญุงูุช ุขุฒุงุฏ ุฏุฑ ุตูุฑุช ููููุช โ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ุฑูุชู ุจู ุญุงูุช ูู

---

## ฺฉุงููฺฏ ูพุดโูุฑุถ dnscrypt-proxy

```toml
listen_addresses    = ['127.0.0.1:5053']
server_names        = ['cloudflare', 'google', 'quad9-doh']
fallback_resolvers  = ['8.8.8.8:53', '1.1.1.1:53']
ignore_system_dns   = true
```



</div>
